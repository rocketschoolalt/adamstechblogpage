// Copyright 2020-present the denosaurs team. All rights reserved. MIT license.
import { emojis } from "./all.ts";
import { reUnicode } from "./unicode.ts";
// Regex to parse emoji in a string - e.g. :coffee:
const reEmojiName = /:([a-zA-Z0-9_\-\+]+):/g;
// Regex to trim whitespace. (with IE8 support)
const reTrimSpace = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
// Non spacing mark, some emoticons have them. It's the 'Variant Form',
// which provides more information so that emoticons can be rendered as
// more colorful graphics. FE0E is a unicode text version, where as FE0F
// should be rendered as a graphical version. The code gracefully degrades.
const NON_SPACING_MARK = String.fromCharCode(65039); // 65039 - '️' - 0xFE0F;
const reNonSpacing = new RegExp(NON_SPACING_MARK, "g");
/** Remove NON_SPACING_MARK from string. See above. */ function stripNSB(code) {
    return code.replace(reNonSpacing, "");
}
/** Removes colons on either side of the string. */ function stripColons(str) {
    var colonIndex = str.indexOf(":");
    if (colonIndex > -1) {
        if (colonIndex === str.length - 1) {
            str = str.substring(0, colonIndex);
            return stripColons(str);
        } else {
            str = str.substr(colonIndex + 1);
            return stripColons(str);
        }
    }
    return str;
}
/** Adds colons to either side of the string. */ function wrapColons(str) {
    return str.length > 0 ? ":" + str + ":" : str;
}
const byAlias = Object.fromEntries(emojis.map((emoji)=>emoji.aliases.map((alias)=>[
            alias,
            emoji
        ])).flat());
const byCode = Object.fromEntries(emojis.map((emoji)=>{
    return [
        stripNSB(emoji.emoji),
        emoji
    ];
}));
/** Get all emojis. */ export function all() {
    return emojis;
}
/** Get all emojis as alias map. */ export function aliasMap() {
    return byAlias;
}
/** Get all emojis as code map. */ export function codeMap() {
    return byCode;
}
/** Get emoji from alias. - e.g. "unicorn" -> 🦄 */ export function get(alias) {
    return byAlias[stripColons(alias)]?.emoji;
}
/** Get alias from emoji. - e.g. 👕 -> "shirt" */ export function alias(emoji) {
    return byCode[stripNSB(emoji)]?.aliases[0];
}
/** Get alias from emoji. - e.g. 👕 -> ["shirt", "tshirt"] */ export function aliases(emoji) {
    return byCode[stripNSB(emoji)]?.aliases;
}
/** Get emoji info from alias or emoji */ export function infoByAlias(raw) {
    return byAlias[stripColons(raw)];
}
/** Get emoji info from alias or emoji */ export function infoByCode(raw) {
    return byCode[stripNSB(raw)];
}
/** Get random emoji. - e.g. {emoji: "👕", alias: "shirt"} */ export function random() {
    const random = emojis[Math.floor(Math.random() * emojis.length)];
    const emoji = random.emoji;
    const alias = random.aliases[0];
    return {
        emoji,
        alias
    };
}
/** Strip all emojis in a string. */ export function strip(str) {
    return replace(str, "", true);
}
/** Replace all emojis in a string. */ export function replace(str, replacement = "", trim = false) {
    if (!str) return "";
    const replace = typeof replacement === "function" ? replacement : ()=>{
        return replacement;
    };
    const match = str.match(reUnicode) ?? [];
    const result = match.map((s, i)=>{
        let emoji = byCode[stripNSB(s)];
        if (emoji && trim && match[i + 1] === " ") {
            match[i + 1] = "";
        }
        return emoji ? replace(emoji) : s;
    }).join("");
    return trim ? result.replace(reTrimSpace, "") : result;
}
/** Replace all emoji names in a string with actual emojis. */ export function emojify(str) {
    if (!str) return "";
    return str.split(reEmojiName).map((s, i)=>{
        if (i % 2 === 0) return s;
        let emoji = get(s);
        if (!emoji) emoji = wrapColons(s);
        return emoji;
    }).join("");
}
/** Replace all emoji in a string with actual emoji names. */ export function unemojify(str) {
    return replace(str, (emoji)=>wrapColons(emoji.aliases[0]));
}
/** Tagged template version of emojify */ export function emoji(template, ...args) {
    const chunks = [];
    for(let i = 0; i < template.length; i++){
        chunks.push(emojify(template[i]));
        if (args[i]) chunks.push(emojify(args[i]));
    }
    return chunks.join("");
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvZW1vamlAMC4xLjIvZW1vamkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjAtcHJlc2VudCB0aGUgZGVub3NhdXJzIHRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuIE1JVCBsaWNlbnNlLlxuXG5pbXBvcnQgeyBlbW9qaXMsIEVtb2ppIH0gZnJvbSBcIi4vYWxsLnRzXCI7XG5pbXBvcnQgeyByZVVuaWNvZGUgfSBmcm9tIFwiLi91bmljb2RlLnRzXCI7XG5cbmV4cG9ydCB0eXBlIHsgRW1vamkgfSBmcm9tIFwiLi9hbGwudHNcIjtcblxuLy8gUmVnZXggdG8gcGFyc2UgZW1vamkgaW4gYSBzdHJpbmcgLSBlLmcuIDpjb2ZmZWU6XG5jb25zdCByZUVtb2ppTmFtZSA9IC86KFthLXpBLVowLTlfXFwtXFwrXSspOi9nO1xuXG4vLyBSZWdleCB0byB0cmltIHdoaXRlc3BhY2UuICh3aXRoIElFOCBzdXBwb3J0KVxuY29uc3QgcmVUcmltU3BhY2UgPSAvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2c7XG5cbi8vIE5vbiBzcGFjaW5nIG1hcmssIHNvbWUgZW1vdGljb25zIGhhdmUgdGhlbS4gSXQncyB0aGUgJ1ZhcmlhbnQgRm9ybScsXG4vLyB3aGljaCBwcm92aWRlcyBtb3JlIGluZm9ybWF0aW9uIHNvIHRoYXQgZW1vdGljb25zIGNhbiBiZSByZW5kZXJlZCBhc1xuLy8gbW9yZSBjb2xvcmZ1bCBncmFwaGljcy4gRkUwRSBpcyBhIHVuaWNvZGUgdGV4dCB2ZXJzaW9uLCB3aGVyZSBhcyBGRTBGXG4vLyBzaG91bGQgYmUgcmVuZGVyZWQgYXMgYSBncmFwaGljYWwgdmVyc2lvbi4gVGhlIGNvZGUgZ3JhY2VmdWxseSBkZWdyYWRlcy5cbmNvbnN0IE5PTl9TUEFDSU5HX01BUksgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDY1MDM5KTsgLy8gNjUwMzkgLSAn77iPJyAtIDB4RkUwRjtcbmNvbnN0IHJlTm9uU3BhY2luZyA9IG5ldyBSZWdFeHAoTk9OX1NQQUNJTkdfTUFSSywgXCJnXCIpO1xuXG4vKiogUmVtb3ZlIE5PTl9TUEFDSU5HX01BUksgZnJvbSBzdHJpbmcuIFNlZSBhYm92ZS4gKi9cbmZ1bmN0aW9uIHN0cmlwTlNCKGNvZGU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBjb2RlLnJlcGxhY2UocmVOb25TcGFjaW5nLCBcIlwiKTtcbn1cblxuLyoqIFJlbW92ZXMgY29sb25zIG9uIGVpdGhlciBzaWRlIG9mIHRoZSBzdHJpbmcuICovXG5mdW5jdGlvbiBzdHJpcENvbG9ucyhzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHZhciBjb2xvbkluZGV4ID0gc3RyLmluZGV4T2YoXCI6XCIpO1xuICBpZiAoY29sb25JbmRleCA+IC0xKSB7XG4gICAgaWYgKGNvbG9uSW5kZXggPT09IHN0ci5sZW5ndGggLSAxKSB7XG4gICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGNvbG9uSW5kZXgpO1xuICAgICAgcmV0dXJuIHN0cmlwQ29sb25zKHN0cik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoY29sb25JbmRleCArIDEpO1xuICAgICAgcmV0dXJuIHN0cmlwQ29sb25zKHN0cik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn1cblxuLyoqIEFkZHMgY29sb25zIHRvIGVpdGhlciBzaWRlIG9mIHRoZSBzdHJpbmcuICovXG5mdW5jdGlvbiB3cmFwQ29sb25zKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHN0ci5sZW5ndGggPiAwID8gXCI6XCIgKyBzdHIgKyBcIjpcIiA6IHN0cjtcbn1cblxudHlwZSBFbW9qaU1hcCA9IHsgW2FsaWFzOiBzdHJpbmddOiBFbW9qaSB9O1xuXG5jb25zdCBieUFsaWFzOiBFbW9qaU1hcCA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgZW1vamlzLm1hcCgoZW1vamkpID0+IGVtb2ppLmFsaWFzZXMubWFwKChhbGlhcykgPT4gW2FsaWFzLCBlbW9qaV0pKS5mbGF0KCksXG4pO1xuXG5jb25zdCBieUNvZGU6IEVtb2ppTWFwID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICBlbW9qaXMubWFwKChlbW9qaSkgPT4ge1xuICAgIHJldHVybiBbc3RyaXBOU0IoZW1vamkuZW1vamkpLCBlbW9qaV07XG4gIH0pLFxuKTtcblxuLyoqIEdldCBhbGwgZW1vamlzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFsbCgpOiBFbW9qaVtdIHtcbiAgcmV0dXJuIGVtb2ppcztcbn1cblxuLyoqIEdldCBhbGwgZW1vamlzIGFzIGFsaWFzIG1hcC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbGlhc01hcCgpOiBFbW9qaU1hcCB7XG4gIHJldHVybiBieUFsaWFzO1xufVxuXG4vKiogR2V0IGFsbCBlbW9qaXMgYXMgY29kZSBtYXAuICovXG5leHBvcnQgZnVuY3Rpb24gY29kZU1hcCgpOiBFbW9qaU1hcCB7XG4gIHJldHVybiBieUNvZGU7XG59XG5cbi8qKiBHZXQgZW1vamkgZnJvbSBhbGlhcy4gLSBlLmcuIFwidW5pY29yblwiIC0+IPCfpoQgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQoYWxpYXM6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBieUFsaWFzW3N0cmlwQ29sb25zKGFsaWFzKV0/LmVtb2ppO1xufVxuXG4vKiogR2V0IGFsaWFzIGZyb20gZW1vamkuIC0gZS5nLiDwn5GVIC0+IFwic2hpcnRcIiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFsaWFzKGVtb2ppOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYnlDb2RlW3N0cmlwTlNCKGVtb2ppKV0/LmFsaWFzZXNbMF07XG59XG5cbi8qKiBHZXQgYWxpYXMgZnJvbSBlbW9qaS4gLSBlLmcuIPCfkZUgLT4gW1wic2hpcnRcIiwgXCJ0c2hpcnRcIl0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbGlhc2VzKGVtb2ppOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gIHJldHVybiBieUNvZGVbc3RyaXBOU0IoZW1vamkpXT8uYWxpYXNlcztcbn1cblxuLyoqIEdldCBlbW9qaSBpbmZvIGZyb20gYWxpYXMgb3IgZW1vamkgKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZvQnlBbGlhcyhyYXc6IHN0cmluZyk6IEVtb2ppIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGJ5QWxpYXNbc3RyaXBDb2xvbnMocmF3KV07XG59XG5cbi8qKiBHZXQgZW1vamkgaW5mbyBmcm9tIGFsaWFzIG9yIGVtb2ppICovXG5leHBvcnQgZnVuY3Rpb24gaW5mb0J5Q29kZShyYXc6IHN0cmluZyk6IEVtb2ppIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGJ5Q29kZVtzdHJpcE5TQihyYXcpXTtcbn1cblxuLyoqIEdldCByYW5kb20gZW1vamkuIC0gZS5nLiB7ZW1vamk6IFwi8J+RlVwiLCBhbGlhczogXCJzaGlydFwifSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbSgpOiB7IGVtb2ppOiBzdHJpbmc7IGFsaWFzOiBzdHJpbmcgfSB7XG4gIGNvbnN0IHJhbmRvbSA9IGVtb2ppc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBlbW9qaXMubGVuZ3RoKV07XG4gIGNvbnN0IGVtb2ppID0gcmFuZG9tLmVtb2ppO1xuICBjb25zdCBhbGlhcyA9IHJhbmRvbS5hbGlhc2VzWzBdO1xuICByZXR1cm4geyBlbW9qaSwgYWxpYXMgfTtcbn1cblxuLyoqIFN0cmlwIGFsbCBlbW9qaXMgaW4gYSBzdHJpbmcuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaXAoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gcmVwbGFjZShzdHIsIFwiXCIsIHRydWUpO1xufVxuXG4vKiogUmVwbGFjZSBhbGwgZW1vamlzIGluIGEgc3RyaW5nLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2UoXG4gIHN0cjogc3RyaW5nLFxuICByZXBsYWNlbWVudDogc3RyaW5nIHwgKChlbW9qaTogRW1vamkpID0+IHN0cmluZykgPSBcIlwiLFxuICB0cmltID0gZmFsc2UsXG4pOiBzdHJpbmcge1xuICBpZiAoIXN0cikgcmV0dXJuIFwiXCI7XG4gIGNvbnN0IHJlcGxhY2UgPSB0eXBlb2YgcmVwbGFjZW1lbnQgPT09IFwiZnVuY3Rpb25cIiA/IHJlcGxhY2VtZW50IDogKCkgPT4ge1xuICAgIHJldHVybiByZXBsYWNlbWVudDtcbiAgfTtcbiAgY29uc3QgbWF0Y2ggPSBzdHIubWF0Y2gocmVVbmljb2RlKSA/PyBbXTtcbiAgY29uc3QgcmVzdWx0ID0gbWF0Y2hcbiAgICAubWFwKChzLCBpKSA9PiB7XG4gICAgICBsZXQgZW1vamkgPSBieUNvZGVbc3RyaXBOU0IocyldO1xuICAgICAgaWYgKGVtb2ppICYmIHRyaW0gJiYgbWF0Y2hbaSArIDFdID09PSBcIiBcIikge1xuICAgICAgICBtYXRjaFtpICsgMV0gPSBcIlwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtb2ppID8gcmVwbGFjZShlbW9qaSkgOiBzO1xuICAgIH0pXG4gICAgLmpvaW4oXCJcIik7XG4gIHJldHVybiB0cmltID8gcmVzdWx0LnJlcGxhY2UocmVUcmltU3BhY2UsIFwiXCIpIDogcmVzdWx0O1xufVxuXG4vKiogUmVwbGFjZSBhbGwgZW1vamkgbmFtZXMgaW4gYSBzdHJpbmcgd2l0aCBhY3R1YWwgZW1vamlzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtb2ppZnkoc3RyOiBzdHJpbmcpIHtcbiAgaWYgKCFzdHIpIHJldHVybiBcIlwiO1xuICByZXR1cm4gc3RyXG4gICAgLnNwbGl0KHJlRW1vamlOYW1lKVxuICAgIC5tYXAoKHMsIGkpID0+IHtcbiAgICAgIGlmIChpICUgMiA9PT0gMCkgcmV0dXJuIHM7XG4gICAgICBsZXQgZW1vamkgPSBnZXQocyk7XG4gICAgICBpZiAoIWVtb2ppKSBlbW9qaSA9IHdyYXBDb2xvbnMocyk7XG4gICAgICByZXR1cm4gZW1vamk7XG4gICAgfSlcbiAgICAuam9pbihcIlwiKTtcbn1cblxuLyoqIFJlcGxhY2UgYWxsIGVtb2ppIGluIGEgc3RyaW5nIHdpdGggYWN0dWFsIGVtb2ppIG5hbWVzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuZW1vamlmeShzdHI6IHN0cmluZykge1xuICByZXR1cm4gcmVwbGFjZShzdHIsIChlbW9qaSkgPT4gd3JhcENvbG9ucyhlbW9qaS5hbGlhc2VzWzBdKSk7XG59XG5cbi8qKiBUYWdnZWQgdGVtcGxhdGUgdmVyc2lvbiBvZiBlbW9qaWZ5ICovXG5leHBvcnQgZnVuY3Rpb24gZW1vamkodGVtcGxhdGU6IFRlbXBsYXRlU3RyaW5nc0FycmF5LCAuLi5hcmdzOiBzdHJpbmdbXSkge1xuICBjb25zdCBjaHVua3MgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wbGF0ZS5sZW5ndGg7IGkrKykge1xuICAgIGNodW5rcy5wdXNoKGVtb2ppZnkodGVtcGxhdGVbaV0pKTtcbiAgICBpZiAoYXJnc1tpXSkgY2h1bmtzLnB1c2goZW1vamlmeShhcmdzW2ldKSk7XG4gIH1cbiAgcmV0dXJuIGNodW5rcy5qb2luKFwiXCIpO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtFQUErRTtBQUUvRSxTQUFTLE1BQU0sUUFBZSxVQUFVLENBQUM7QUFDekMsU0FBUyxTQUFTLFFBQVEsY0FBYyxDQUFDO0FBSXpDLG1EQUFtRDtBQUNuRCxNQUFNLFdBQVcsMkJBQTJCLEFBQUM7QUFFN0MsK0NBQStDO0FBQy9DLE1BQU0sV0FBVyx1Q0FBdUMsQUFBQztBQUV6RCx1RUFBdUU7QUFDdkUsdUVBQXVFO0FBQ3ZFLHdFQUF3RTtBQUN4RSwyRUFBMkU7QUFDM0UsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxBQUFDLEVBQUMsd0JBQXdCO0FBQzdFLE1BQU0sWUFBWSxHQUFHLElBQUksTUFBTSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsQ0FBQyxBQUFDO0FBRXZELHNEQUFzRCxDQUN0RCxTQUFTLFFBQVEsQ0FBQyxJQUFZLEVBQVU7SUFDdEMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVks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LENBQUMsQ0FDRCxJQUFJLENBQUMsRUFBRSxDQUFDLEFBQUM7SUFDWixPQUFPLElBQUksR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUM7Q0FDeEQ7QUFFRCw4REFBOEQsQ0FDOUQsT0FBTyxTQUFTLE9BQU8sQ0FBQyxHQUFXLEVBQUU7SUFDbkMsSUFBSSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsQ0FBQztJQUNwQixPQUFPLEdBQUcsQ0FDUCxLQUFLLENBQUMsV0FBVyxDQUFDLENBQ2xCLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUs7UUFDYixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQzFCLElBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFBQztRQUNuQixJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsT0FBTyxLQUFLLENBQUM7S0FDZCxDQUFDLENBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0NBQ2I7QUFFRCw2REFBNkQsQ0FDN0QsT0FBTyxTQUFTLFNBQVMsQ0FBQyxHQUFXLEVBQUU7SUFDckMsT0FBTyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsS0FBSyxHQUFLLFVBQVUsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUM5RDtBQUVELHlDQUF5QyxDQUN6QyxPQUFPLFNBQVMsS0FBSyxDQUFDLFFBQThCLEVBQUUsR0FBRyxJQUFJLEFBQVUsRUFBRTtJQUN2RSxNQUFNLE1BQU0sR0FBRyxFQUFFLEFBQUM7SUFDbEIsSUFBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUU7UUFDeEMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQzVDO0lBQ0QsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0NBQ3hCIn0=