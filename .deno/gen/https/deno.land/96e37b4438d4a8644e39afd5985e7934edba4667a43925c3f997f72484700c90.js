import { getValidatedFd } from "../internal/fs/utils.mjs";
export function close(fd, callback) {
    fd = getValidatedFd(fd);
    setTimeout(()=>{
        let error = null;
        try {
            Deno.close(fd);
        } catch (err) {
            error = err instanceof Error ? err : new Error("[non-error thrown]");
        }
        callback(error);
    }, 0);
}
export function closeSync(fd) {
    fd = getValidatedFd(fd);
    Deno.close(fd);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjE0Ny4wL25vZGUvX2ZzL19mc19jbG9zZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDIyIHRoZSBEZW5vIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuIE1JVCBsaWNlbnNlLlxuaW1wb3J0IHR5cGUgeyBDYWxsYmFja1dpdGhFcnJvciB9IGZyb20gXCIuL19mc19jb21tb24udHNcIjtcbmltcG9ydCB7IGdldFZhbGlkYXRlZEZkIH0gZnJvbSBcIi4uL2ludGVybmFsL2ZzL3V0aWxzLm1qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvc2UoZmQ6IG51bWJlciwgY2FsbGJhY2s6IENhbGxiYWNrV2l0aEVycm9yKTogdm9pZCB7XG4gIGZkID0gZ2V0VmFsaWRhdGVkRmQoZmQpO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBsZXQgZXJyb3IgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBEZW5vLmNsb3NlKGZkKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGVycm9yID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoXCJbbm9uLWVycm9yIHRocm93bl1cIik7XG4gICAgfVxuICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgfSwgMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZVN5bmMoZmQ6IG51bWJlcik6IHZvaWQge1xuICBmZCA9IGdldFZhbGlkYXRlZEZkKGZkKTtcbiAgRGVuby5jbG9zZShmZCk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsU0FBUyxjQUFjLFFBQVEsMEJBQTBCLENBQUM7QUFFMUQsT0FBTyxTQUFTLEtBQUssQ0FBQyxFQUFVLEVBQUUsUUFBMkIsRUFBUTtJQUNuRSxFQUFFLEdBQUcsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3hCLFVBQVUsQ0FBQyxJQUFNO1FBQ2YsSUFBSSxLQUFLLEdBQUcsSUFBSSxBQUFDO1FBQ2pCLElBQUk7WUFDRixJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ2hCLENBQUMsT0FBTyxHQUFHLEVBQUU7WUFDWixLQUFLLEdBQUcsR0FBRyxZQUFZLEtBQUssR0FBRyxHQUFHLEdBQUcsSUFBSSxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQztTQUN0RTtRQUNELFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUNqQixFQUFFLENBQUMsQ0FBQyxDQUFDO0NBQ1A7QUFFRCxPQUFPLFNBQVMsU0FBUyxDQUFDLEVBQVUsRUFBUTtJQUMxQyxFQUFFLEdBQUcsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3hCLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7Q0FDaEIifQ==