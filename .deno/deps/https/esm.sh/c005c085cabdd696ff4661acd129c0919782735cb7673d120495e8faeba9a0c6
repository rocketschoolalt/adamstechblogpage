/* esm.sh - esbuild bundle(xml-js@1.6.11) deno production */
import  { Buffer as __Buffer$ } from "https://deno.land/std@0.147.0/node/buffer.ts";import __sax$ from "/v87/sax@1.2.4/deno/sax.js";var re=Object.create;var k=Object.defineProperty;var te=Object.getOwnPropertyDescriptor;var ne=Object.getOwnPropertyNames;var ae=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var ie=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,n)=>(typeof require!="undefined"?require:e)[n]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var K=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var ue=(r,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ne(e))!se.call(r,s)&&s!==n&&k(r,s,{get:()=>e[s],enumerable:!(a=te(e,s))||a.enumerable});return r};var O=(r,e,n)=>(n=r!=null?re(ae(r)):{},ue(e||!r||!r.__esModule?k(n,"default",{value:r,enumerable:!0}):n,r));var d=K((pe,j)=>{j.exports={isArray:function(r){return Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}}});var h=K((Ce,o)=>{var ce=d().isArray;o.exports={copyOptions:function(r){var e,n={};for(e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);return n},ensureFlagExists:function(r,e){(!(r in e)||typeof e[r]!="boolean")&&(e[r]=!1)},ensureSpacesExists:function(r){(!("spaces"in r)||typeof r.spaces!="number"&&typeof r.spaces!="string")&&(r.spaces=0)},ensureAlwaysArrayExists:function(r){(!("alwaysArray"in r)||typeof r.alwaysArray!="boolean"&&!ce(r.alwaysArray))&&(r.alwaysArray=!1)},ensureKeyExists:function(r,e){(!(r+"Key"in e)||typeof e[r+"Key"]!="string")&&(e[r+"Key"]=e.compact?"_"+r:r)},checkFnExists:function(r,e){return r+"Fn"in e}}});var w=K((Pe,V)=>{var fe=__sax$,ye={on:function(){},parse:function(){}},c=h(),F=d().isArray,t,A=!0,i;function le(r){return t=c.copyOptions(r),c.ensureFlagExists("ignoreDeclaration",t),c.ensureFlagExists("ignoreInstruction",t),c.ensureFlagExists("ignoreAttributes",t),c.ensureFlagExists("ignoreText",t),c.ensureFlagExists("ignoreComment",t),c.ensureFlagExists("ignoreCdata",t),c.ensureFlagExists("ignoreDoctype",t),c.ensureFlagExists("compact",t),c.ensureFlagExists("alwaysChildren",t),c.ensureFlagExists("addParent",t),c.ensureFlagExists("trim",t),c.ensureFlagExists("nativeType",t),c.ensureFlagExists("nativeTypeAttributes",t),c.ensureFlagExists("sanitize",t),c.ensureFlagExists("instructionHasAttributes",t),c.ensureFlagExists("captureSpacesBetweenElements",t),c.ensureAlwaysArrayExists(t),c.ensureKeyExists("declaration",t),c.ensureKeyExists("instruction",t),c.ensureKeyExists("attributes",t),c.ensureKeyExists("text",t),c.ensureKeyExists("comment",t),c.ensureKeyExists("cdata",t),c.ensureKeyExists("doctype",t),c.ensureKeyExists("type",t),c.ensureKeyExists("name",t),c.ensureKeyExists("elements",t),c.ensureKeyExists("parent",t),c.checkFnExists("doctype",t),c.checkFnExists("instruction",t),c.checkFnExists("cdata",t),c.checkFnExists("comment",t),c.checkFnExists("text",t),c.checkFnExists("instructionName",t),c.checkFnExists("elementName",t),c.checkFnExists("attributeName",t),c.checkFnExists("attributeValue",t),c.checkFnExists("attributes",t),t}function I(r){var e=Number(r);if(!isNaN(e))return e;var n=r.toLowerCase();return n==="true"?!0:n==="false"?!1:r}function g(r,e){var n;if(t.compact){if(!i[t[r+"Key"]]&&(F(t.alwaysArray)?t.alwaysArray.indexOf(t[r+"Key"])!==-1:t.alwaysArray)&&(i[t[r+"Key"]]=[]),i[t[r+"Key"]]&&!F(i[t[r+"Key"]])&&(i[t[r+"Key"]]=[i[t[r+"Key"]]]),r+"Fn"in t&&typeof e=="string"&&(e=t[r+"Fn"](e,i)),r==="instruction"&&("instructionFn"in t||"instructionNameFn"in t)){for(n in e)if(e.hasOwnProperty(n))if("instructionFn"in t)e[n]=t.instructionFn(e[n],n,i);else{var a=e[n];delete e[n],e[t.instructionNameFn(n,a,i)]=a}}F(i[t[r+"Key"]])?i[t[r+"Key"]].push(e):i[t[r+"Key"]]=e}else{i[t.elementsKey]||(i[t.elementsKey]=[]);var s={};if(s[t.typeKey]=r,r==="instruction"){for(n in e)if(e.hasOwnProperty(n))break;s[t.nameKey]="instructionNameFn"in t?t.instructionNameFn(n,e,i):n,t.instructionHasAttributes?(s[t.attributesKey]=e[n][t.attributesKey],"instructionFn"in t&&(s[t.attributesKey]=t.instructionFn(s[t.attributesKey],n,i))):("instructionFn"in t&&(e[n]=t.instructionFn(e[n],n,i)),s[t.instructionKey]=e[n])}else r+"Fn"in t&&(e=t[r+"Fn"](e,i)),s[t[r+"Key"]]=e;t.addParent&&(s[t.parentKey]=i),i[t.elementsKey].push(s)}}function S(r){if("attributesFn"in t&&r&&(r=t.attributesFn(r,i)),(t.trim||"attributeValueFn"in t||"attributeNameFn"in t||t.nativeTypeAttributes)&&r){var e;for(e in r)if(r.hasOwnProperty(e)&&(t.trim&&(r[e]=r[e].trim()),t.nativeTypeAttributes&&(r[e]=I(r[e])),"attributeValueFn"in t&&(r[e]=t.attributeValueFn(r[e],e,i)),"attributeNameFn"in t)){var n=r[e];delete r[e],r[t.attributeNameFn(e,r[e],i)]=n}}return r}function xe(r){var e={};if(r.body&&(r.name.toLowerCase()==="xml"||t.instructionHasAttributes)){for(var n=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,a;(a=n.exec(r.body))!==null;)e[a[1]]=a[2]||a[3]||a[4];e=S(e)}if(r.name.toLowerCase()==="xml"){if(t.ignoreDeclaration)return;i[t.declarationKey]={},Object.keys(e).length&&(i[t.declarationKey][t.attributesKey]=e),t.addParent&&(i[t.declarationKey][t.parentKey]=i)}else{if(t.ignoreInstruction)return;t.trim&&(r.body=r.body.trim());var s={};t.instructionHasAttributes&&Object.keys(e).length?(s[r.name]={},s[r.name][t.attributesKey]=e):s[r.name]=r.body,g("instruction",s)}}function p(r,e){var n;if(typeof r=="object"&&(e=r.attributes,r=r.name),e=S(e),"elementNameFn"in t&&(r=t.elementNameFn(r,i)),t.compact){if(n={},!t.ignoreAttributes&&e&&Object.keys(e).length){n[t.attributesKey]={};var a;for(a in e)e.hasOwnProperty(a)&&(n[t.attributesKey][a]=e[a])}!(r in i)&&(F(t.alwaysArray)?t.alwaysArray.indexOf(r)!==-1:t.alwaysArray)&&(i[r]=[]),i[r]&&!F(i[r])&&(i[r]=[i[r]]),F(i[r])?i[r].push(n):i[r]=n}else i[t.elementsKey]||(i[t.elementsKey]=[]),n={},n[t.typeKey]="element",n[t.nameKey]=r,!t.ignoreAttributes&&e&&Object.keys(e).length&&(n[t.attributesKey]=e),t.alwaysChildren&&(n[t.elementsKey]=[]),i[t.elementsKey].push(n);n[t.parentKey]=i,i=n}function C(r){t.ignoreText||!r.trim()&&!t.captureSpacesBetweenElements||(t.trim&&(r=r.trim()),t.nativeType&&(r=I(r)),t.sanitize&&(r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),g("text",r))}function P(r){t.ignoreComment||(t.trim&&(r=r.trim()),g("comment",r))}function q(r){var e=i[t.parentKey];t.addParent||delete i[t.parentKey],i=e}function Ee(r){t.ignoreCdata||(t.trim&&(r=r.trim()),g("cdata",r))}function me(r){t.ignoreDoctype||(r=r.replace(/^ /,""),t.trim&&(r=r.trim()),g("doctype",r))}function D(r){r.note=r}V.exports=function(r,e){var n=A?fe.parser(!0,{}):n=new ye.Parser("UTF-8"),a={};if(i=a,t=le(e),A?(n.opt={strictEntities:!0},n.onopentag=p,n.ontext=C,n.oncomment=P,n.onclosetag=q,n.onerror=D,n.oncdata=Ee,n.ondoctype=me,n.onprocessinginstruction=xe):(n.on("startElement",p),n.on("text",C),n.on("comment",P),n.on("endElement",q),n.on("error",D)),A)n.write(r).close();else if(!n.parse(r))throw new Error("XML parsing error: "+n.getError());if(a[t.elementsKey]){var s=a[t.elementsKey];delete a[t.elementsKey],a[t.elementsKey]=s,delete a.text}return a}});var H=K((qe,_)=>{var J=h(),Ke=w();function Fe(r){var e=J.copyOptions(r);return J.ensureSpacesExists(e),e}_.exports=function(r,e){var n,a,s,u;return n=Fe(e),a=Ke(r,n),u="compact"in n&&n.compact?"_parent":"parent","addParent"in n&&n.addParent?s=JSON.stringify(a,function(y,l){return y===u?"_":l},n.spaces):s=JSON.stringify(a,null,n.spaces),s.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}});var N=K((De,G)=>{var f=h(),ge=d().isArray,x,E;function de(r){var e=f.copyOptions(r);return f.ensureFlagExists("ignoreDeclaration",e),f.ensureFlagExists("ignoreInstruction",e),f.ensureFlagExists("ignoreAttributes",e),f.ensureFlagExists("ignoreText",e),f.ensureFlagExists("ignoreComment",e),f.ensureFlagExists("ignoreCdata",e),f.ensureFlagExists("ignoreDoctype",e),f.ensureFlagExists("compact",e),f.ensureFlagExists("indentText",e),f.ensureFlagExists("indentCdata",e),f.ensureFlagExists("indentAttributes",e),f.ensureFlagExists("indentInstruction",e),f.ensureFlagExists("fullTagEmptyElement",e),f.ensureFlagExists("noQuotesForNativeAttributes",e),f.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),f.ensureKeyExists("declaration",e),f.ensureKeyExists("instruction",e),f.ensureKeyExists("attributes",e),f.ensureKeyExists("text",e),f.ensureKeyExists("comment",e),f.ensureKeyExists("cdata",e),f.ensureKeyExists("doctype",e),f.ensureKeyExists("type",e),f.ensureKeyExists("name",e),f.ensureKeyExists("elements",e),f.checkFnExists("doctype",e),f.checkFnExists("instruction",e),f.checkFnExists("cdata",e),f.checkFnExists("comment",e),f.checkFnExists("text",e),f.checkFnExists("instructionName",e),f.checkFnExists("elementName",e),f.checkFnExists("attributeName",e),f.checkFnExists("attributeValue",e),f.checkFnExists("attributes",e),f.checkFnExists("fullTagEmptyElement",e),e}function m(r,e,n){return(!n&&r.spaces?`
`:"")+Array(e+1).join(r.spaces)}function b(r,e,n){if(e.ignoreAttributes)return"";"attributesFn"in e&&(r=e.attributesFn(r,E,x));var a,s,u,y,l=[];for(a in r)r.hasOwnProperty(a)&&r[a]!==null&&r[a]!==void 0&&(y=e.noQuotesForNativeAttributes&&typeof r[a]!="string"?"":'"',s=""+r[a],s=s.replace(/"/g,"&quot;"),u="attributeNameFn"in e?e.attributeNameFn(a,s,E,x):a,l.push(e.spaces&&e.indentAttributes?m(e,n+1,!1):" "),l.push(u+"="+y+("attributeValueFn"in e?e.attributeValueFn(s,a,E,x):s)+y));return r&&Object.keys(r).length&&e.spaces&&e.indentAttributes&&l.push(m(e,n,!1)),l.join("")}function $(r,e,n){return x=r,E="xml",e.ignoreDeclaration?"":"<?xml"+b(r[e.attributesKey],e,n)+"?>"}function B(r,e,n){if(e.ignoreInstruction)return"";var a;for(a in r)if(r.hasOwnProperty(a))break;var s="instructionNameFn"in e?e.instructionNameFn(a,r[a],E,x):a;if(typeof r[a]=="object")return x=r,E=s,"<?"+s+b(r[a][e.attributesKey],e,n)+"?>";var u=r[a]?r[a]:"";return"instructionFn"in e&&(u=e.instructionFn(u,a,E,x)),"<?"+s+(u?" "+u:"")+"?>"}function z(r,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(r,E,x):r)+"-->"}function Q(r,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(r,E,x):r.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function M(r,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(r,E,x):r)+">"}function v(r,e){return e.ignoreText?"":(r=""+r,r=r.replace(/&amp;/g,"&"),r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(r,E,x):r)}function he(r,e){var n;if(r.elements&&r.elements.length)for(n=0;n<r.elements.length;++n)switch(r.elements[n][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function be(r,e,n){x=r,E=r.name;var a=[],s="elementNameFn"in e?e.elementNameFn(r.name,r):r.name;a.push("<"+s),r[e.attributesKey]&&a.push(b(r[e.attributesKey],e,n));var u=r[e.elementsKey]&&r[e.elementsKey].length||r[e.attributesKey]&&r[e.attributesKey]["xml:space"]==="preserve";return u||("fullTagEmptyElementFn"in e?u=e.fullTagEmptyElementFn(r.name,r):u=e.fullTagEmptyElement),u?(a.push(">"),r[e.elementsKey]&&r[e.elementsKey].length&&(a.push(U(r[e.elementsKey],e,n+1)),x=r,E=r.name),a.push(e.spaces&&he(r,e)?`
`+Array(n+1).join(e.spaces):""),a.push("</"+s+">")):a.push("/>"),a.join("")}function U(r,e,n,a){return r.reduce(function(s,u){var y=m(e,n,a&&!s);switch(u.type){case"element":return s+y+be(u,e,n);case"comment":return s+y+z(u[e.commentKey],e);case"doctype":return s+y+M(u[e.doctypeKey],e);case"cdata":return s+(e.indentCdata?y:"")+Q(u[e.cdataKey],e);case"text":return s+(e.indentText?y:"")+v(u[e.textKey],e);case"instruction":var l={};return l[u[e.nameKey]]=u[e.attributesKey]?u:u[e.instructionKey],s+(e.indentInstruction?y:"")+B(l,e,n)}},"")}function X(r,e,n){var a;for(a in r)if(r.hasOwnProperty(a))switch(a){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||n)return!0;break;case e.cdataKey:if(e.indentCdata||n)return!0;break;case e.instructionKey:if(e.indentInstruction||n)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function Ae(r,e,n,a,s){x=r,E=e;var u="elementNameFn"in n?n.elementNameFn(e,r):e;if(typeof r>"u"||r===null||r==="")return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(e,r)||n.fullTagEmptyElement?"<"+u+"></"+u+">":"<"+u+"/>";var y=[];if(e){if(y.push("<"+u),typeof r!="object")return y.push(">"+v(r,n)+"</"+u+">"),y.join("");r[n.attributesKey]&&y.push(b(r[n.attributesKey],n,a));var l=X(r,n,!0)||r[n.attributesKey]&&r[n.attributesKey]["xml:space"]==="preserve";if(l||("fullTagEmptyElementFn"in n?l=n.fullTagEmptyElementFn(e,r):l=n.fullTagEmptyElement),l)y.push(">");else return y.push("/>"),y.join("")}return y.push(Y(r,n,a+1,!1)),x=r,E=e,e&&y.push((s?m(n,a,!1):"")+"</"+u+">"),y.join("")}function Y(r,e,n,a){var s,u,y,l=[];for(u in r)if(r.hasOwnProperty(u))for(y=ge(r[u])?r[u]:[r[u]],s=0;s<y.length;++s){switch(u){case e.declarationKey:l.push($(y[s],e,n));break;case e.instructionKey:l.push((e.indentInstruction?m(e,n,a):"")+B(y[s],e,n));break;case e.attributesKey:case e.parentKey:break;case e.textKey:l.push((e.indentText?m(e,n,a):"")+v(y[s],e));break;case e.cdataKey:l.push((e.indentCdata?m(e,n,a):"")+Q(y[s],e));break;case e.doctypeKey:l.push(m(e,n,a)+M(y[s],e));break;case e.commentKey:l.push(m(e,n,a)+z(y[s],e));break;default:l.push(m(e,n,a)+Ae(y[s],u,e,n,X(y[s],e)))}a=a&&!l.length}return l.join("")}G.exports=function(r,e){e=de(e);var n=[];return x=r,E="_root_",e.compact?n.push(Y(r,e,0,!0)):(r[e.declarationKey]&&n.push($(r[e.declarationKey],e,0)),r[e.elementsKey]&&r[e.elementsKey].length&&n.push(U(r[e.elementsKey],e,0,!n.length))),n.join("")}});var W=K((Ie,R)=>{var we=N();R.exports=function(r,e){r instanceof __Buffer$&&(r=r.toString());var n=null;if(typeof r=="string")try{n=JSON.parse(r)}catch{throw new Error("The JSON structure is invalid")}else n=r;return we(n,e)}});var T=K((Se,Z)=>{var ve=w(),Ne=H(),Te=N(),ke=W();Z.exports={xml2js:ve,xml2json:Ne,js2xml:Te,json2xml:ke}});var L=O(T()),ee=O(T()),{xml2js:Ve,xml2json:Je,js2xml:_e,json2xml:He}=ee,{default:Oe,...je}=ee,$e=L.default??Oe??je;export{$e as default,_e as js2xml,He as json2xml,Ve as xml2js,Je as xml2json};
