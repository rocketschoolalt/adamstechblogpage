/* esm.sh - esbuild bundle(feed@4.2.2) deno production */
import __xml_js$ from "/v87/xml-js@1.6.11/deno/xml-js.js";var I=Object.create;var z=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var U=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty;var A=(i=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(i,{get:(t,n)=>(typeof require!="undefined"?require:t)[n]}):i)(function(i){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+i+'" is not supported')});var l=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports);var F=(i,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of P(t))!D.call(i,e)&&e!==n&&z(i,e,{get:()=>t[e],enumerable:!(s=M(t,e))||s.enumerable});return i};var S=(i,t,n)=>(n=i!=null?I(U(i)):{},F(t||!i||!i.__esModule?z(n,"default",{value:i,enumerable:!0}):n,i));var b=l(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});p.generator=void 0;p.generator="https://github.com/jpmonette/feed"});var v=l(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.sanitize=void 0;function T(i){if(!(typeof i>"u"))return i.replace(/&/g,"&amp;")}h.sanitize=T});var O=l(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var $=__xml_js$,E=b(),f=v();k.default=function(i){var t=i.options,n={_declaration:{_attributes:{version:"1.0",encoding:"utf-8"}},feed:{_attributes:{xmlns:"http://www.w3.org/2005/Atom"},id:t.id,title:t.title,updated:t.updated?t.updated.toISOString():new Date().toISOString(),generator:f.sanitize(t.generator||E.generator)}};t.author&&(n.feed.author=g(t.author)),n.feed.link=[],t.link&&n.feed.link.push({_attributes:{rel:"alternate",href:f.sanitize(t.link)}});var s=f.sanitize(t.feed||t.feedLinks&&t.feedLinks.atom);return s&&n.feed.link.push({_attributes:{rel:"self",href:f.sanitize(s)}}),t.hub&&n.feed.link.push({_attributes:{rel:"hub",href:f.sanitize(t.hub)}}),t.description&&(n.feed.subtitle=t.description),t.image&&(n.feed.logo=t.image),t.favicon&&(n.feed.icon=t.favicon),t.copyright&&(n.feed.rights=t.copyright),n.feed.category=[],i.categories.map(function(e){n.feed.category.push({_attributes:{term:e}})}),n.feed.contributor=[],i.contributors.map(function(e){n.feed.contributor.push(g(e))}),n.feed.entry=[],i.items.map(function(e){var a={title:{_attributes:{type:"html"},_cdata:e.title},id:f.sanitize(e.id||e.link),link:[{_attributes:{href:f.sanitize(e.link)}}],updated:e.date.toISOString()};e.description&&(a.summary={_attributes:{type:"html"},_cdata:e.description}),e.content&&(a.content={_attributes:{type:"html"},_cdata:e.content}),Array.isArray(e.author)&&(a.author=[],e.author.map(function(r){a.author.push(g(r))})),Array.isArray(e.category)&&(a.category=[],e.category.map(function(r){a.category.push(R(r))})),e.contributor&&Array.isArray(e.contributor)&&(a.contributor=[],e.contributor.map(function(r){a.contributor.push(g(r))})),e.published&&(a.published=e.published.toISOString()),e.copyright&&(a.rights=e.copyright),n.feed.entry.push(a)}),$.js2xml(n,{compact:!0,ignoreComment:!0,spaces:4})};var g=function(i){var t=i.name,n=i.email,s=i.link,e={name:t};return n&&(e.email=n),s&&(e.uri=f.sanitize(s)),e},R=function(i){var t=i.name,n=i.scheme,s=i.term;return{_attributes:{label:t,scheme:n,term:s}}}});var w=l(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.default=function(i){var t=i.options,n=i.items,s=i.extensions,e={version:"https://jsonfeed.org/version/1",title:t.title};return t.link&&(e.home_page_url=t.link),t.feedLinks&&t.feedLinks.json&&(e.feed_url=t.feedLinks.json),t.description&&(e.description=t.description),t.image&&(e.icon=t.image),t.author&&(e.author={},t.author.name&&(e.author.name=t.author.name),t.author.link&&(e.author.url=t.author.link)),s.map(function(a){e[a.name]=a.objects}),e.items=n.map(function(a){var r={id:a.id,content_html:a.content};if(a.link&&(r.url=a.link),a.title&&(r.title=a.title),a.description&&(r.summary=a.description),a.image&&(r.image=a.image),a.date&&(r.date_modified=a.date.toISOString()),a.published&&(r.date_published=a.published.toISOString()),a.author){var o=a.author;o instanceof Array&&(o=o[0]),r.author={},o.name&&(r.author.name=o.name),o.link&&(r.author.url=o.link)}return Array.isArray(a.category)&&(r.tags=[],a.category.map(function(u){u.name&&r.tags.push(u.name)})),a.extensions&&a.extensions.map(function(u){r[u.name]=u.objects}),r}),JSON.stringify(e,null,4)}});var L=l(d=>{"use strict";var y=d&&d.__assign||function(){return y=Object.assign||function(i){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])}return i},y.apply(this,arguments)};Object.defineProperty(d,"__esModule",{value:!0});var B=__xml_js$,J=b(),c=v();d.default=function(i){var t=i.options,n=!1,s=!1,e={_declaration:{_attributes:{version:"1.0",encoding:"utf-8"}},rss:{_attributes:{version:"2.0"},channel:{title:{_text:t.title},link:{_text:c.sanitize(t.link)},description:{_text:t.description},lastBuildDate:{_text:t.updated?t.updated.toUTCString():new Date().toUTCString()},docs:{_text:t.docs?t.docs:"https://validator.w3.org/feed/docs/rss2.html"},generator:{_text:t.generator||J.generator}}}};t.language&&(e.rss.channel.language={_text:t.language}),t.ttl&&(e.rss.channel.ttl={_text:t.ttl}),t.image&&(e.rss.channel.image={title:{_text:t.title},url:{_text:t.image},link:{_text:c.sanitize(t.link)}}),t.copyright&&(e.rss.channel.copyright={_text:t.copyright}),i.categories.map(function(r){e.rss.channel.category||(e.rss.channel.category=[]),e.rss.channel.category.push({_text:r})});var a=t.feed||t.feedLinks&&t.feedLinks.rss;return a&&(n=!0,e.rss.channel["atom:link"]=[{_attributes:{href:c.sanitize(a),rel:"self",type:"application/rss+xml"}}]),t.hub&&(n=!0,e.rss.channel["atom:link"]||(e.rss.channel["atom:link"]=[]),e.rss.channel["atom:link"]={_attributes:{href:c.sanitize(t.hub),rel:"hub"}}),e.rss.channel.item=[],i.items.map(function(r){var o={};r.title&&(o.title={_cdata:r.title}),r.link&&(o.link={_text:c.sanitize(r.link)}),r.guid?o.guid={_text:r.guid}:r.id?o.guid={_text:r.id}:r.link&&(o.guid={_text:c.sanitize(r.link)}),r.date&&(o.pubDate={_text:r.date.toUTCString()}),r.published&&(o.pubDate={_text:r.published.toUTCString()}),r.description&&(o.description={_cdata:r.description}),r.content&&(s=!0,o["content:encoded"]={_cdata:r.content}),Array.isArray(r.author)&&(o.author=[],r.author.map(function(u){u.email&&u.name&&o.author.push({_text:u.email+" ("+u.name+")"})})),Array.isArray(r.category)&&(o.category=[],r.category.map(function(u){o.category.push(N(u))})),r.enclosure&&(o.enclosure=m(r.enclosure)),r.image&&(o.enclosure=m(r.image,"image")),r.audio&&(o.enclosure=m(r.audio,"audio")),r.video&&(o.enclosure=m(r.video,"video")),e.rss.channel.item.push(o)}),s&&(e.rss._attributes["xmlns:dc"]="http://purl.org/dc/elements/1.1/",e.rss._attributes["xmlns:content"]="http://purl.org/rss/1.0/modules/content/"),n&&(e.rss._attributes["xmlns:atom"]="http://www.w3.org/2005/Atom"),B.js2xml(e,{compact:!0,ignoreComment:!0,spaces:4})};var m=function(i,t){if(t===void 0&&(t="image"),typeof i=="string"){var n=new URL(i).pathname.split(".").slice(-1)[0];return{_attributes:{url:i,length:0,type:t+"/"+n}}}var s=new URL(i.url).pathname.split(".").slice(-1)[0];return{_attributes:y({length:0,type:t+"/"+s},i)}},N=function(i){var t=i.name,n=i.domain;return{_text:t,_attributes:{domain:n}}}});var j=l(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.Feed=void 0;var G=O(),H=w(),K=L(),Q=function(){function i(t){var n=this;this.items=[],this.categories=[],this.contributors=[],this.extensions=[],this.addItem=function(s){return n.items.push(s)},this.addCategory=function(s){return n.categories.push(s)},this.addContributor=function(s){return n.contributors.push(s)},this.addExtension=function(s){return n.extensions.push(s)},this.atom1=function(){return G.default(n)},this.rss2=function(){return K.default(n)},this.json1=function(){return H.default(n)},this.options=t}return i}();_.Feed=Q});var q=S(j()),C=S(j()),{__esModule:nt,Feed:at}=C,{default:V,...W}=C,st=q.default??V??W;export{at as Feed,nt as __esModule,st as default};
